
{% extends 'home.html' %}

{% block title %} <title>Multiplayer Pong - Lobby</title> {% endblock title %}

{% block game-section %}

    <div id="gameWrapper">
        <h1>Create a new game:</h1>
        
        What game room would you like to join/create?<br><br><br>
        <div id="input-container">
            <input id="room-name-input" type="text" size="100" placeholder="Enter room name ..."><br>
            <button id="room-name-submit" type="button" class="glow-on-hover">Enter</button>
        </div>
        
        {% if error %}
        <p style="color: red;">{{ error }}</p>
        {% endif %}
    </div>

    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.key === 'Enter') {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            window.location.pathname = '/online-game/' + roomName + '/';
        };
    </script>

{% endblock game-section %}
